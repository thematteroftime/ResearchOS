# ?????????

> **??**?merge_project ???tests ?????tests/logs/VERIFICATION_REPORT.md  
> **??**??026-02

---

## ??????????

| ?? | ???? | ?????| ????/?? | ?? |
|------|----------|----------|---------------|------|
| **???** ???? | DESIGN_ARCHITECTURE §2 | ??????| test_quantum_physics_three_papers?test_paper_ingest | paper_analysis_scenario????????paper_ingest_pdf ??.md/.json ?? ??memU + DB |
| **????* ???? | DESIGN_ARCHITECTURE §3 | ??????| tests/run_writing_verification?test_writing_chain | AppBackend.run_paper_generation ??ScientificWriterClient ??scientific_writer?job_records + writing_event ?? |
| **????* ???? | DESIGN_ARCHITECTURE §4 | ??????| test_quantum_physics_three_papers?test_parameter_recommendation | memU ?????parameter_recommendation ??summary.md + recommendations.json |
| **????* ????????| DESIGN_ARCHITECTURE §5 | ??????| test_quantum_physics_three_papers | memu_retrieve + memu_match_and_resolve ??DB ??????memu_download_to_path |

---

## ?????????026-02-28??

### ??????

```
AppBackend.run_paper_generation
  ??normalize_query?agent_config / writer ???? use_minimal_query
  ??ScientificWriterClient.generate_paper
    ??scientific_writer.generate_paper
  ??register_writing_event?PDF?SUMMARY.md?PEER_REVIEW.md ????database + memu_records ????
```

**??**?tests/run_writing_verification.py ???? PDF?job_records?writing_outputs?database/memu_storage_test ???????

### ??????

| scene | ?? | ?? |
|-------|------|------|
| paper | {storage}/{user_id}/{agent_id}/paper/{record_id}/ | ??structured.json?summary.md?? PDF |
| parameter_recommendation | .../parameter_recommendation/{record_id}/ | ??summary.md?recommendations.json |
| writing_event | .../writing_event/{record_id}/ | ??quantum_summary_paper.pdf?SUMMARY.md?PEER_REVIEW.md |

---

## ?????????????

| ?? | BACKEND_MODULE_DESIGN | ???? |
|------|----------------------|----------|
| app_backend | ?????memU/DB ???? | ??????memorize?insert_record?register_writing_event ?? app_backend ?? |
| agent_config | invoke_model?get_prompt?intent_to_agent_ids | ??????writing.query_normalize ?? agent_config????? writer.normalize_query |
| scientific_writer_client | ?????? query????generate_paper | ????????memorize/DB |
| paper_ingest | ?? structured?memorize/DB ?? app_backend | ??????|
| parameter_recommendation | ?? memory_context???? memu_client | ??????|
| memu_client | register_writing_event ?? PDF+MD ??storage | ??????|

---

## ?????????

1. **scientific-writer ????**???????? `Error in hook callback`?`skill_improvement_apply`?`Stream closed`?? claude-agent-sdk ????*????* PDF ???????
2. **memU ????*?MEMU_API_KEY ????memorize/retrieve ?????????????????????writing_event ??????DB ??storage??
3. **????**?PDF ?? `data/` ??`docs/`?? PDF ??????`data/quantum_chaos_summary_sample.md`??

---

## ???????

- ????????**VERIFICATION_REPORT.md**
- ????????**DESIGN_ARCHITECTURE.md** ?? A
- ??????*ENV_CONFIG.md**?merge_project/.env.example
